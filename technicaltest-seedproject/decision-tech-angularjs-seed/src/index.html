<!doctype html>
<html ng-app="app">

<head>
    <meta charset="utf-8">
    <title>DecisionTechAngularJsSeed</title>
    <base href="/">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="/assets/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/assets/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/assets/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/assets/favicon-16x16.png" sizes="16x16">
</head>

<body ng-controller="homeController">

    <header>
        <div class="container">
            <a href="/" id="logo"></a>
            <div id="menu">
                <svg height="32px" id="Layer_1" style="enable-background:new 0 0 32 32;" version="1.1" viewBox="0 0 32 32" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/></svg>
            </div>
        </div>
    </header>
    <div class="container text-center main">
        <div id="filterContainer" class="text-left">
            <h2>Filter</h2>
            <ul>
                <li>
                    <input type="checkbox" name="broadband" ng-model="filters.broadband" ng-change="filterChange('Broadband')" /> Broadband
                </li>
                <li>
                    <input type="checkbox" name="tv" ng-model="filters.tv" ng-change="filterChange('TV')" /> TV
                </li>
                <li>
                    <input type="checkbox" name="mobile" ng-model="filters.mobile" ng-change="filterChange('Mobile')" /> Mobile
                </li>
            </ul>
            <label>Speed</label>
            <select name="speed" ng-model="filters.speed">
                <option value="">Any</option>
                <option value="17">17MB</option>
                <option value="52">52MB</option>
                <option value="76">76MB</option>
            </select>
        </div>
        <div id="bodyContainer">
            <table>
                <thead>
                    <tr>
                        <th>
                            About
                        </th>
                        <th>
                            Contract Length
                        </th>
                        <th>
                            Speed/Usage
                        </th>
                        <th>
                            Offer
                        </th>
                        <th>
                            TV
                        </th>
                        <th>
                            Mobile
                        </th>
                        <th>
                            Cost
                        </th>
                    </tr>
                </thead>
                <tr ng-repeat="deal in deals | broadbandFilter:filters |tvFilter:filters |mobileFilter:filters |speedFilter:filters">
                    <td>{{deal.title}}</td>
                    <td>{{deal.contractLength}} Months</td>
                    <td>{{deal.speed.label}}MB<br>{{deal.usage.label}}</td>
                    <td><img ng-src="{{deal.offer.smallLogo}}" alt="{{deal.offer.title}}" /> </td>
                    <td>
                        <div ng-show="!deal.popularChannels || deal.popularChannels.length == 0">n/a</div>
                        <div ng-repeat="channel in deal.popularChannels">
                            <img ng-src="{{channel.logo}}" alt="{{channel.name}}" />
                        </div>
                    </td>
                    <td>
                        <div ng-show="!deal.mobile">n/a</div>
                        <div ng-show="deal.mobile">
                            <p>Data: {{deal.mobile.data.label}}</p>
                            <p>Minutes: {{deal.mobile.minutes.label}}</p>
                            <p>Texts: {{deal.mobile.texts.label}}</p>
                            <p>Connection: {{deal.mobile.connectionType.label}}</p>
                        </div>
                    </td>
                    <td>
                        Â£{{deal.prices[0].totalContractCost}}
                    </td>
                </tr>
            </table>
        </div>
    </div>

</body>

</html>